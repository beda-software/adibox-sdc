{
  "subjectType": ["Encounter", "Patient"],
  "meta": {
    "profile": ["https://beda.software/beda-emr-questionnaire"],
    "lastUpdated": "2023-04-10T03:43:34.792167Z",
    "createdAt": "2023-04-05T05:22:35.752466Z",
    "versionId": "694"
  },
  "launchContext": [
    {
      "name": {
        "code": "Patient"
      },
      "type": ["Patient"]
    }
  ],
  "name": "Vitals",
  "item": [
    {
      "text": "PatientId",
      "type": "string",
      "hidden": true,
      "linkId": "patientId",
      "initialExpression": {
        "language": "text/fhirpath",
        "expression": "%Patient.id"
      }
    },
    {
      "text": "PatientName",
      "type": "string",
      "hidden": true,
      "linkId": "patientName",
      "initialExpression": {
        "language": "text/fhirpath",
        "expression": "%Patient.name.given[0] + ' ' + %Patient.name.family"
      }
    },
    {
      "text": "Height",
      "type": "integer",
      "unit": "cm",
      "linkId": "height"
    },
    {
      "text": "Weight",
      "type": "integer",
      "unit": "kg",
      "linkId": "weight"
    },
    {
      "text": "Temperature",
      "type": "integer",
      "unit": "Celsius",
      "linkId": "temperature"
    },
    {
      "text": "Oxygen saturation",
      "type": "integer",
      "unit": "%",
      "linkId": "oxygen-saturation"
    },
    {
      "text": "Pulse rate",
      "type": "integer",
      "unit": "bpm",
      "linkId": "pulse-rate"
    },
    {
      "text": "Respiratory Rate",
      "type": "integer",
      "unit": "bpm",
      "linkId": "respiratory-rate"
    },
    {
      "item": [
        {
          "item": [
            {
              "text": "BP systolic",
              "type": "integer",
              "unit": "mmHg",
              "linkId": "blood-pressure-systolic"
            },
            {
              "text": "BP diastolic",
              "type": "integer",
              "unit": "mmHg",
              "linkId": "blood-pressure-diastolic"
            }
          ],
          "type": "group",
          "linkId": "blood-pressure-systolic-diastolic",
          "itemControl": {
            "coding": [
              {
                "code": "blood-pressure"
              }
            ]
          }
        },
        {
          "text": "Positions",
          "type": "choice",
          "linkId": "blood-pressure-positions",
          "itemControl": {
            "coding": [
              {
                "code": "inline-choice"
              }
            ]
          },
          "answerOption": [
            {
              "value": {
                "Coding": {
                  "code": "sitting",
                  "display": "Sitting"
                }
              }
            },
            {
              "value": {
                "Coding": {
                  "code": "lying",
                  "display": "Lying"
                }
              }
            },
            {
              "value": {
                "Coding": {
                  "code": "standing",
                  "display": "Standing"
                }
              }
            }
          ]
        },
        {
          "text": "Arm",
          "type": "choice",
          "linkId": "blood-pressure-arm",
          "itemControl": {
            "coding": [
              {
                "code": "inline-choice"
              }
            ]
          },
          "answerOption": [
            {
              "value": {
                "Coding": {
                  "code": "biceps-left",
                  "display": "Biceps left"
                }
              }
            },
            {
              "value": {
                "Coding": {
                  "code": "biceps-right",
                  "display": "Biceps right"
                }
              }
            }
          ]
        }
      ],
      "text": "Blood Pressure",
      "type": "group",
      "linkId": "blood-pressure"
    },
    {
      "text": "BMI",
      "type": "integer",
      "unit": "kg/m2",
      "linkId": "bmi",
      "readOnly": true,
      "required": true,
      "calculatedExpression": {
        "language": "text/fhirpath",
        "expression": "(%QuestionnaireResponse.item.where(linkId='weight').answer.value.integer / ((%QuestionnaireResponse.item.where(linkId='height').answer.value.integer / 100) * (%QuestionnaireResponse.item.where(linkId='height').answer.value.integer / 100))).round(2)"
      }
    }
  ],
  "mapping": [
    {
      "id": "vitals",
      "resourceType": "Mapping"
    }
  ],
  "resourceType": "Questionnaire",
  "status": "active",
  "id": "vitals",
  "url": "https://aidbox.emr.beda.software/ui/console#/entities/Questionnaire/vitals"
}
